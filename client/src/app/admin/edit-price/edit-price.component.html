<div class="container">
	<h2>Υποβολή στοιχείων καφέ</h2>
	<form [formGroup]="priceForm" (ngSubmit)="onSubmit()">
		<div class="form-inline">
			<label>
				Τιμή: &nbsp;
			</label>
			<input id="price" class="form-control" type="text" formControlName="price" appCurrencyValidator required
				[ngClass]="{ 'is-invalid': price.invalid && (price.dirty || price.touched) }">
			<div *ngIf="price.invalid && (price.dirty || price.touched)" class="invalid-feedback">
				<div *ngIf="price.errors.required">
					Παρακαλώ εισάγετε τιμή στον καφέ
				</div>
				<div *ngIf="price.errors.price">
					Παρακαλώ εισάγετε έγκυρη τιμή στον καφέ
				</div>
			</div>
		</div>

		<div class="form-group">
			<label>Επιλέξτε ημερομηνία:</label><br />
			<ngb-datepicker #dp (select)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t"
				outsideDays="hidden"></ngb-datepicker>
		</div>

		<h6>Όνομα καφέ:</h6>
		<div class="container form-inline">
			<table class="row-border hover" datatable>
				<thead>
					<tr>
						<th>Όνομα</th>
						<th>Περιγραφή προϊόντος</th>
						<th>Κατηγορία</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let product of products" (click)="productSelection(product)">
						<td>{{product.name}}</td>
						<td>{{product.description}}</td>
						<td>{{product.category}}</td>
						<td>
							<div class="fa fa-check-square btn btn-success" *ngIf="selectedProduct(product)"></div>
							<div class="fa fa-square btn btn-success" *ngIf="!selectedProduct(product)"></div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<h6>Όνομα καταστήματος:</h6>
		<div class="container form-inline">
			<table class="row-border hover" datatable>
				<thead>
					<tr>
						<th>Όνομα</th>
						<th>Διεύθυνση Καταστήματος</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let shop of shops" (click)="shopSelection(shop)">
						<td>{{shop.name}}</td>
						<td>{{shop.address}}</td>
						<td>
							<div class="fa fa-check-square btn btn-success" *ngIf="selectedShop(shop)"></div>
							<div class="fa fa-square btn btn-success" *ngIf="!selectedShop(shop)"></div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<button class="btn btn-primary" type="submit"
			[disabled]="!priceForm.valid || !productFlag || !shopFlag">Υποβολή</button>
	</form>
	<!-- <app-map [initialZoom]='18'></app-map> -->
</div>

<!-- datepicker tamplate -->
<ng-template #t let-date let-focused="focused">
	<span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)"
		[class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date"
		(mouseleave)="hoveredDate = null">
		{{ date.day }}
	</span>
</ng-template>